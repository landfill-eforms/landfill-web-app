<div class="section-multiple-container">
	<div class="section-title">Verify Data</div>
	<div class="flex-container" fxLayout="column">
		<md-card class="section-multiple flex-item" fxFlex>
			<md-card-content *ngIf="isDataLoaded" >
				<div class="section-title">Data Information</div>
				<div class="section-form-container flex-container" fxLayout="row">
					<div class="flex-item" fxFlex>
						<strong>Inspector:</strong> {{dataSet.inspector.firstname}} {{dataSet.inspector.lastname}}
					</div>
					<div class="flex-item" fxFlex>
						<strong>Site:</strong> {{dataSet.site.name}}
					</div>
					<div class="flex-item" fxFlex>
						<strong>Upload Date:</strong> {{DateTimeUtils.getDate(dataSet.uploadedDate)}}
					</div>
					<div class="flex-item" fxFlex>
						<strong>File Name:</strong> {{dataSet.filename}}
					</div>
					<md-input-container class="flex-item" fxFlex style="margin-top:-20px;">
						<input mdInput type="number" min="29.5" max="30.5" placeholder="Barometric Pressure" [(ngModel)]="barometricPressure" (ngModelChange)="updateBarometricPressure()">
					</md-input-container>
				</div>
			</md-card-content>
		</md-card>
		<md-card class="section-multiple flex-item" fxFlex>
			<md-card-content>
				<div class="section-title">Errors</div>
				<div *ngIf="isDataLoaded">
					<div *ngIf="!dataSet.errors || !(dataSet.errors.instantaneous.length || dataSet.errors.dataSet.length)" style="padding:8px 0;">
						<i>No errors found.</i>
					</div>
					<div *ngIf="dataSet.errors">
						<div *ngFor="let error of dataSet.errors.dataSet" class="error-item">
							{{error}}
						</div>
						<div *ngFor="let error of dataSet.errors.instantaneous" class="error-item">
							{{error}}
						</div>
					</div>
				</div>
			</md-card-content>
		</md-card>
		<md-card class="section-multiple flex-item" fxFlex>
			<md-card-content>
				<div class="section-title">Instantaneous Data</div>
				<div *ngIf="!isDataLoaded" class="loading-indicator-container">
					<md-spinner class="loading-indicator-spinner"></md-spinner>
					<div class="loading-indicator-message">Loading...</div>
				</div>
				<div *ngIf="isDataLoaded && dataSet.unverifiedInstantaneousData.length > 0" class="data-table">
					<div class="unselectable data-table-header-row flex-container" fxLayout="row">
						<div class="truncate flex-item" fxFlex (click)="sortByGrid()">
							<span class="data-table-header-label-sortable">Grid</span>
							<md-icon class="data-table-header-sort-arrow" [ngClass]="{
								'data-table-header-sort-arrow-reverse':sort.reversed,
								'data-table-header-sort-arrow-inactive':sort.current !== 'grid'}">
								arrow_downward</md-icon>
						</div>
						<div class="truncate flex-item" fxFlex>
							<span class="data-table-header-label">Start</span>
						</div>
						<div class="truncate flex-item" fxFlex>
							<span class="data-table-header-label">End</span>
						</div>
						<div class="truncate flex-item" fxFlex>
							<span class="data-table-header-label">Instrument</span>
						</div>
						<div class="truncate flex-item" fxFlex (click)="sortByMethaneLevel()">
							<span class="data-table-header-label-sortable">Reading (ppm)</span>
							<md-icon class="data-table-header-sort-arrow" [ngClass]="{
								'data-table-header-sort-arrow-reverse':sort.reversed,
								'data-table-header-sort-arrow-inactive':sort.current !== 'methaneLevel'}">
								arrow_downward</md-icon>
						</div>
						<div class="truncate flex-item" fxFlex="150px" (click)="sortByIme()">
							<span class="data-table-header-label-sortable">IME#</span>
							<md-icon class="data-table-header-sort-arrow" [ngClass]="{
								'data-table-header-sort-arrow-reverse':sort.reversed,
								'data-table-header-sort-arrow-inactive':sort.current !== 'ime'}">
								arrow_downward</md-icon>
						</div>
						<div class="truncate flex-item" fxFlex="150px">
							<span class="data-table-header-label"></span>
						</div>
					</div>
					<div *ngFor="let inst of dataSet.unverifiedInstantaneousData; let isOdd = odd" class="data-table-row flex-container" fxLayout="row" [ngClass]="{'data-table-odd-row': isOdd}">
						<div class="truncate flex-item" fxFlex>{{inst.monitoringPoint.name}}</div>
						<div class="truncate flex-item" fxFlex>{{DateTimeUtils.getTime(inst.startTime)}}</div>
						<div class="truncate flex-item" fxFlex>{{DateTimeUtils.getTime(inst.endTime)}}</div>
						<div class="flex-item" fxFlex  style="margin-top:-20px;">
							<md-select [(ngModel)]="inst.instrument.id" (ngModelChange)="unverifiedDataService.checkForErrors(dataSet)" placeholder="Instrument" class="md-select-row">
								<md-option *ngFor="let instrument of instruments" [value]="instrument.id">
									{{instrument.serialNumber}}
								</md-option>
							</md-select>
						</div>
						<div class="truncate flex-item" fxFlex>{{inst.methaneLevel / 100}}</div>
						<div class="truncate flex-item" fxFlex="150px">
							{{inst.imeNumbers && inst.imeNumbers.length > 0 ? (inst.imeNumbers.length > 1 ? 'Multiple' : inst.imeNumbers[0].imeNumber) : ''}}
							<!--<md-icon *ngIf="inst.methaneLevel >= 50000" (click)="openAssignImeNumberDialog(inst)" mdTooltip="Change" mdTooltipPosition="after" class="data-table-icon-button" color="accent">{{inst.imeNumber ? 'sync' : 'add'}}</md-icon>
							<md-icon *ngIf="inst.methaneLevel < 50000 && inst.imeNumber" mdTooltip="Remove" mdTooltipPosition="after" class="data-table-icon-button" color="warn">remove</md-icon>-->
						</div>
						<div class="flex-item" fxFlex="150px">
							<button md-raised-button *ngIf="inst.methaneLevel >= 50000" (click)="openAssignImeNumberDialog(inst)" style="margin-top:-18px;">{{inst.imeNumbers && inst.imeNumbers.length > 0 ? 'CHANGE IME#' : 'ADD IME#'}}</button>
							<button md-raised-button *ngIf="inst.methaneLevel < 50000 && inst.imeNumber" (click)="removeImeNumbers(inst)" style="margin-top:-18px;">REMOVE IME#</button>
						</div>
					</div>
				</div>
			</md-card-content>
		</md-card>
	</div>
<div>
<div class="fab-action-button-container">
	<button md-fab (click)="consoleLog()" mdTooltip="Console Log" mdTooltipPosition="above" class="fab-action-button">
		<md-icon>assignment</md-icon>
	</button>
	<button md-fab (click)="commit()" mdTooltip="Commit" mdTooltipPosition="above" class="fab-action-button">
		<md-icon>done</md-icon>
	</button>
	<button md-fab (click)="save()" mdTooltip="Save" mdTooltipPosition="above" class="fab-action-button">
		<md-icon>save</md-icon>
	</button>
</div>